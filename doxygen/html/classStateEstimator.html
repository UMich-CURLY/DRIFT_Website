<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DRIFT: StateEstimator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DRIFT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classStateEstimator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">StateEstimator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>class for state estimation. This class will be used to estimate the state of the robot using user chosen filter methods.  
 <a href="classStateEstimator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="state__estimator_8h_source.html">state_estimator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0fe687479b225a64819919a8acb540b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a0fe687479b225a64819919a8acb540b3">clear</a> ()</td></tr>
<tr class="memdesc:a0fe687479b225a64819919a8acb540b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear and reset the filter. Will be implemented in the future.  <br /></td></tr>
<tr class="separator:a0fe687479b225a64819919a8acb540b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<tr class="memitem:ad9e0b621949396b02e0612b01fa47b33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#ad9e0b621949396b02e0612b01fa47b33">StateEstimator</a> ()</td></tr>
<tr class="memdesc:ad9e0b621949396b02e0612b01fa47b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new State Estimator object.  <br /></td></tr>
<tr class="separator:ad9e0b621949396b02e0612b01fa47b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2adfe4307b769be9814852f386d47c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#aaf2adfe4307b769be9814852f386d47c">StateEstimator</a> (bool enable_imu_bias_update=false)</td></tr>
<tr class="memdesc:aaf2adfe4307b769be9814852f386d47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new State Estimator object.  <br /></td></tr>
<tr class="separator:aaf2adfe4307b769be9814852f386d47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb60d67eab76e7a3fe90728bed2ac74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a6bb60d67eab76e7a3fe90728bed2ac74">StateEstimator</a> (<a class="el" href="namespacefilter_1_1inekf.html#a7ef14ea922d7f9fc9e348cb4a18e1823">ErrorType</a> error_type, bool enable_imu_bias_update=false)</td></tr>
<tr class="memdesc:a6bb60d67eab76e7a3fe90728bed2ac74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new State Estimator object according to given settings.  <br /></td></tr>
<tr class="separator:a6bb60d67eab76e7a3fe90728bed2ac74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Setters</div></td></tr>
<tr class="memitem:a4ed957dad545cb7952b9b7b49b3337fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a4ed957dad545cb7952b9b7b49b3337fc">set_state</a> (const <a class="el" href="classstate_1_1RobotState.html">RobotState</a> &amp;state)</td></tr>
<tr class="memdesc:a4ed957dad545cb7952b9b7b49b3337fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the initial state of the robot.  <br /></td></tr>
<tr class="separator:a4ed957dad545cb7952b9b7b49b3337fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Getters</div></td></tr>
<tr class="memitem:a6a2030c85a15cc72aec4e23706aa26d3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstate_1_1RobotState.html">RobotState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a6a2030c85a15cc72aec4e23706aa26d3">get_state</a> () const</td></tr>
<tr class="memdesc:a6a2030c85a15cc72aec4e23706aa26d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the state of the robot.  <br /></td></tr>
<tr class="separator:a6a2030c85a15cc72aec4e23706aa26d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060a68980ae1aa278a16a93e653c0de7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="state__estimator_8h.html#a64c0065bd95d5bc87f07b183e516aa95">RobotStateQueuePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a060a68980ae1aa278a16a93e653c0de7">get_robot_state_queue_ptr</a> ()</td></tr>
<tr class="memdesc:a060a68980ae1aa278a16a93e653c0de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the robot state queue pointer.  <br /></td></tr>
<tr class="separator:a060a68980ae1aa278a16a93e653c0de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d93e165695924e941f5b43ed9d88f0e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a1d93e165695924e941f5b43ed9d88f0e">get_robot_state_queue_mutex_ptr</a> ()</td></tr>
<tr class="memdesc:a1d93e165695924e941f5b43ed9d88f0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the robot state queue mutex pointer.  <br /></td></tr>
<tr class="separator:a1d93e165695924e941f5b43ed9d88f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Propagation adders</div></td></tr>
<tr class="memitem:a7923313888b88b7c874531935c9e9d11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a7923313888b88b7c874531935c9e9d11">add_imu_propagation</a> (<a class="el" href="namespacefilter_1_1inekf.html#ae1fcf6d7afeda0c50bdecb3b9e4b66cb">IMUQueuePtr</a> buffer_ptr, std::shared_ptr&lt; std::mutex &gt; buffer_mutex_ptr, const std::string &amp;yaml_filepath=&quot;config/filter/inekf/propagation/imu_propagation.yaml&quot;)</td></tr>
<tr class="memdesc:a7923313888b88b7c874531935c9e9d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a propagation method to <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses imu data to propagate the state of the robot. This propagation method will be called in the when the filter is running.  <br /></td></tr>
<tr class="separator:a7923313888b88b7c874531935c9e9d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Correction adders</div></td></tr>
<tr class="memitem:a79cb9fc56adc30ebe9e4a8bf87103756"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a79cb9fc56adc30ebe9e4a8bf87103756">add_legged_kinematics_correction</a> (<a class="el" href="namespacefilter_1_1inekf.html#a774b49040177e36106d8319b297af47e">LeggedKinematicsQueuePtr</a> buffer_ptr, std::shared_ptr&lt; std::mutex &gt; buffer_mutex_ptr, const std::string &amp;yaml_filepath=&quot;config/filter/inekf/&quot; &quot;correction/mini_cheetah_legged_kinematics_correction.yaml&quot;)</td></tr>
<tr class="memdesc:a79cb9fc56adc30ebe9e4a8bf87103756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a legged kinematics correction method to the <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses leg kinematic data to correct the state of the robot. This correction method will be called in the when the filter is running.  <br /></td></tr>
<tr class="separator:a79cb9fc56adc30ebe9e4a8bf87103756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bbce51ba6df36d049e55a9db31b4f28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a7bbce51ba6df36d049e55a9db31b4f28">add_velocity_correction</a> (<a class="el" href="namespacefilter_1_1inekf.html#ad94ac20bcb021dc6bd1e43aa7afe21ed">VelocityQueuePtr</a> buffer_ptr, std::shared_ptr&lt; std::mutex &gt; buffer_mutex_ptr, const std::string &amp;yaml_filepath=&quot;config/filter/inekf/&quot; &quot;correction/velocity_correction.yaml&quot;)</td></tr>
<tr class="memdesc:a7bbce51ba6df36d049e55a9db31b4f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a velocity correction method to the <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses velocity data to correct the state of the robot. This correction method will be called in the when the filter is running.  <br /></td></tr>
<tr class="separator:a7bbce51ba6df36d049e55a9db31b4f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions</div></td></tr>
<tr class="memitem:a9982ac6a449cf40cd5c2513053652964"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a9982ac6a449cf40cd5c2513053652964">is_enabled</a> () const</td></tr>
<tr class="memdesc:a9982ac6a449cf40cd5c2513053652964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether or not the filter is enabled.  <br /></td></tr>
<tr class="separator:a9982ac6a449cf40cd5c2513053652964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0959d8630e7ddf498e9e0384d4f5e77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#ae0959d8630e7ddf498e9e0384d4f5e77">EnableFilter</a> ()</td></tr>
<tr class="memdesc:ae0959d8630e7ddf498e9e0384d4f5e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the filter, change enabled_ to true.  <br /></td></tr>
<tr class="separator:ae0959d8630e7ddf498e9e0384d4f5e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4b78a80c489507a500d5d249742d88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#aad4b78a80c489507a500d5d249742d88">InitBias</a> ()</td></tr>
<tr class="memdesc:aad4b78a80c489507a500d5d249742d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the IMU bias of the filter.  <br /></td></tr>
<tr class="separator:aad4b78a80c489507a500d5d249742d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9559fb006ed527eb5567bbfcc2282e7"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#ad9559fb006ed527eb5567bbfcc2282e7">BiasInitialized</a> () const</td></tr>
<tr class="memdesc:ad9559fb006ed527eb5567bbfcc2282e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether or not the IMU bias is initialized.  <br /></td></tr>
<tr class="separator:ad9559fb006ed527eb5567bbfcc2282e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640b4681d77e3ac0a08bd3a68bb816a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#a640b4681d77e3ac0a08bd3a68bb816a2">InitState</a> ()</td></tr>
<tr class="memdesc:a640b4681d77e3ac0a08bd3a68bb816a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the state of the filter using the IMU data.  <br /></td></tr>
<tr class="separator:a640b4681d77e3ac0a08bd3a68bb816a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Activate filter</div></td></tr>
<tr class="memitem:af6b7645492d817d5dc70de6236806126"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateEstimator.html#af6b7645492d817d5dc70de6236806126">RunOnce</a> ()</td></tr>
<tr class="memdesc:af6b7645492d817d5dc70de6236806126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the filter once. In the main function, users should first add propagation and correction methods, then call this method. This method will run the filter once, in which the robot state would be propagated and corrected if new data are received. Users should call this method in a loop. See ROS/example/&lt;TEST&gt;.cpp for examples.  <br /></td></tr>
<tr class="separator:af6b7645492d817d5dc70de6236806126"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class for state estimation. This class will be used to estimate the state of the robot using user chosen filter methods. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad9e0b621949396b02e0612b01fa47b33" name="ad9e0b621949396b02e0612b01fa47b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e0b621949396b02e0612b01fa47b33">&#9670;&#160;</a></span>StateEstimator() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StateEstimator::StateEstimator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new State Estimator object. </p>

</div>
</div>
<a id="aaf2adfe4307b769be9814852f386d47c" name="aaf2adfe4307b769be9814852f386d47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2adfe4307b769be9814852f386d47c">&#9670;&#160;</a></span>StateEstimator() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StateEstimator::StateEstimator </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_imu_bias_update</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new State Estimator object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_imu_bias_update</td><td>True if the filter should update imu bias </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6bb60d67eab76e7a3fe90728bed2ac74" name="a6bb60d67eab76e7a3fe90728bed2ac74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb60d67eab76e7a3fe90728bed2ac74">&#9670;&#160;</a></span>StateEstimator() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StateEstimator::StateEstimator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefilter_1_1inekf.html#a7ef14ea922d7f9fc9e348cb4a18e1823">ErrorType</a>&#160;</td>
          <td class="paramname"><em>error_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_imu_bias_update</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new State Estimator object according to given settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">error_type</td><td>Error type of the filter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_imu_bias_update</td><td>True if the filter should update imu bias </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7923313888b88b7c874531935c9e9d11" name="a7923313888b88b7c874531935c9e9d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7923313888b88b7c874531935c9e9d11">&#9670;&#160;</a></span>add_imu_propagation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::add_imu_propagation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefilter_1_1inekf.html#ae1fcf6d7afeda0c50bdecb3b9e4b66cb">IMUQueuePtr</a>&#160;</td>
          <td class="paramname"><em>buffer_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::mutex &gt;&#160;</td>
          <td class="paramname"><em>buffer_mutex_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>yaml_filepath</em> = <code>&quot;config/filter/inekf/propagation/imu_propagation.yaml&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a propagation method to <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses imu data to propagate the state of the robot. This propagation method will be called in the when the filter is running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_ptr</td><td>The imu buffer queue temporarily stores the message from the subscriber. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_mutex_ptr</td><td>The imu buffer mutex pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yaml_filepath</td><td>The yaml file path for the imu propagation config </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79cb9fc56adc30ebe9e4a8bf87103756" name="a79cb9fc56adc30ebe9e4a8bf87103756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79cb9fc56adc30ebe9e4a8bf87103756">&#9670;&#160;</a></span>add_legged_kinematics_correction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::add_legged_kinematics_correction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefilter_1_1inekf.html#a774b49040177e36106d8319b297af47e">LeggedKinematicsQueuePtr</a>&#160;</td>
          <td class="paramname"><em>buffer_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::mutex &gt;&#160;</td>
          <td class="paramname"><em>buffer_mutex_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>yaml_filepath</em> = <code>&quot;config/filter/inekf/&quot;&#160;&quot;correction/mini_cheetah_legged_kinematics_correction.yaml&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a legged kinematics correction method to the <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses leg kinematic data to correct the state of the robot. This correction method will be called in the when the filter is running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_ptr</td><td>The kinematic buffer queue temporarily stores the message from the subscriber. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_mutex_ptr</td><td>The kinematic buffer mutex pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yaml_filepath</td><td>The yaml file path for the kinematic correction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7bbce51ba6df36d049e55a9db31b4f28" name="a7bbce51ba6df36d049e55a9db31b4f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bbce51ba6df36d049e55a9db31b4f28">&#9670;&#160;</a></span>add_velocity_correction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::add_velocity_correction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefilter_1_1inekf.html#ad94ac20bcb021dc6bd1e43aa7afe21ed">VelocityQueuePtr</a>&#160;</td>
          <td class="paramname"><em>buffer_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::mutex &gt;&#160;</td>
          <td class="paramname"><em>buffer_mutex_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>yaml_filepath</em> = <code>&quot;config/filter/inekf/&quot;&#160;&quot;correction/velocity_correction.yaml&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a velocity correction method to the <a class="el" href="classStateEstimator.html" title="class for state estimation. This class will be used to estimate the state of the robot using user cho...">StateEstimator</a> object, which uses velocity data to correct the state of the robot. This correction method will be called in the when the filter is running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_ptr</td><td>The velocity buffer queue temporarily stores the message from the subscriber. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_mutex_ptr</td><td>The velocity buffer mutex pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yaml_filepath</td><td>The yaml file path for the velocity correction config </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9559fb006ed527eb5567bbfcc2282e7" name="ad9559fb006ed527eb5567bbfcc2282e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9559fb006ed527eb5567bbfcc2282e7">&#9670;&#160;</a></span>BiasInitialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool StateEstimator::BiasInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether or not the IMU bias is initialized. </p>
<dl class="section return"><dt>Returns</dt><dd>const bool: true for initialized, false for not initialized </dd></dl>

</div>
</div>
<a id="a0fe687479b225a64819919a8acb540b3" name="a0fe687479b225a64819919a8acb540b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe687479b225a64819919a8acb540b3">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear and reset the filter. Will be implemented in the future. </p>

</div>
</div>
<a id="ae0959d8630e7ddf498e9e0384d4f5e77" name="ae0959d8630e7ddf498e9e0384d4f5e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0959d8630e7ddf498e9e0384d4f5e77">&#9670;&#160;</a></span>EnableFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::EnableFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the filter, change enabled_ to true. </p>

</div>
</div>
<a id="a1d93e165695924e941f5b43ed9d88f0e" name="a1d93e165695924e941f5b43ed9d88f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d93e165695924e941f5b43ed9d88f0e">&#9670;&#160;</a></span>get_robot_state_queue_mutex_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; std::mutex &gt; StateEstimator::get_robot_state_queue_mutex_ptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the robot state queue mutex pointer. </p>
<dl class="section return"><dt>Returns</dt><dd>std::shared_ptr&lt;std::mutex&gt;: Pointer to the robot state queue mutex </dd></dl>

</div>
</div>
<a id="a060a68980ae1aa278a16a93e653c0de7" name="a060a68980ae1aa278a16a93e653c0de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060a68980ae1aa278a16a93e653c0de7">&#9670;&#160;</a></span>get_robot_state_queue_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="state__estimator_8h.html#a64c0065bd95d5bc87f07b183e516aa95">RobotStateQueuePtr</a> StateEstimator::get_robot_state_queue_ptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the robot state queue pointer. </p>
<dl class="section return"><dt>Returns</dt><dd>RobotStateQueuePtr: Pointer to the robot state queue </dd></dl>

</div>
</div>
<a id="a6a2030c85a15cc72aec4e23706aa26d3" name="a6a2030c85a15cc72aec4e23706aa26d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2030c85a15cc72aec4e23706aa26d3">&#9670;&#160;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classstate_1_1RobotState.html">RobotState</a> StateEstimator::get_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the state of the robot. </p>
<dl class="section return"><dt>Returns</dt><dd>RobotState: State of the robot </dd></dl>

</div>
</div>
<a id="aad4b78a80c489507a500d5d249742d88" name="aad4b78a80c489507a500d5d249742d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad4b78a80c489507a500d5d249742d88">&#9670;&#160;</a></span>InitBias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::InitBias </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the IMU bias of the filter. </p>

</div>
</div>
<a id="a640b4681d77e3ac0a08bd3a68bb816a2" name="a640b4681d77e3ac0a08bd3a68bb816a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640b4681d77e3ac0a08bd3a68bb816a2">&#9670;&#160;</a></span>InitState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::InitState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the state of the filter using the IMU data. </p>
<p>TODO: Implement clear filter</p>
<p>TODO: How to deal with multiple velocity measurements?</p>

</div>
</div>
<a id="a9982ac6a449cf40cd5c2513053652964" name="a9982ac6a449cf40cd5c2513053652964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9982ac6a449cf40cd5c2513053652964">&#9670;&#160;</a></span>is_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool StateEstimator::is_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether or not the filter is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>const bool: true for enabled, false for disabled </dd></dl>

</div>
</div>
<a id="af6b7645492d817d5dc70de6236806126" name="af6b7645492d817d5dc70de6236806126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b7645492d817d5dc70de6236806126">&#9670;&#160;</a></span>RunOnce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::RunOnce </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the filter once. In the main function, users should first add propagation and correction methods, then call this method. This method will run the filter once, in which the robot state would be propagated and corrected if new data are received. Users should call this method in a loop. See ROS/example/&lt;TEST&gt;.cpp for examples. </p>

</div>
</div>
<a id="a4ed957dad545cb7952b9b7b49b3337fc" name="a4ed957dad545cb7952b9b7b49b3337fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed957dad545cb7952b9b7b49b3337fc">&#9670;&#160;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateEstimator::set_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstate_1_1RobotState.html">RobotState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the initial state of the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>Initial state of the robot </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/tingjunl/code/curly_state_estimator/include/<a class="el" href="state__estimator_8h_source.html">state_estimator.h</a></li>
<li>/home/tingjunl/code/curly_state_estimator/src/<a class="el" href="state__estimator_8cpp.html">state_estimator.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
